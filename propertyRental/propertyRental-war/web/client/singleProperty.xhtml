<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>

    </h:head>
    <h:body>
            <ui:include src="includes/header.xhtml"></ui:include>
            <div class="page_loader"></div>
            <!-- Sub banner start -->
            <div class="sub-banner">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-6 col-md-6">
                            <h1>Single Property</h1>
                        </div>
                        <div class="col-lg-6 col-md-6">
                            <div class="breadcrumb-area">
                                <ul>
                                    <li><a href="index.html">Index</a></li>
                                    <li><span>/</span>Single Property</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Sub Banner end -->

            <!-- Properties details page start -->

            <div class="properties-details-page content-area-17">
                <div class="container" >
                    <div class="row">
                        <ui:repeat value="#{propertyBean.showPropertyByID()}" var="data">
                            <div class="col-lg-10 col-md-12 col-xs-12" style="margin-left: 100px; margin-right: 100px;">
                                <div class="properties-details-section">
                                    <!-- Heading properties start -->
                                    <div class="heading-properties-2">
                                        <div class="row">
                                            <div class="col-md-12" >
                                                <div class="pull-left">
                                                    <h3>#{data.propertyName}</h3>
                                                    <p><i class="fa fa-map-marker"></i> #{data.propertyShortAddress}, #{data.areaIDFK.areaName} </p>
                                                </div>
                                                <div class="pull-right">
                                                    <h:form>
                                                        <h:commandLink class="btn-4 btn-round-3" value="Contact Owner" action="#{userRequestBean.insertUserRequest_click(data.propertyIDPK)}"></h:commandLink>
                                                    </h:form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Heading properties end -->

                                    <!-- Properties slider section start -->
                                    <div class="properties-slider-section">
                                        <div class="slider slider-for">
                                            <div><img src="/propertyRental-war/uploads/#{data.mainPropertyImage}" class="w-100 img-fluid" alt="photo" style="width: 1000px; height: 800px;padding-bottom: 25px;"/></div>

                                        </div>
                                        <div class="slider slider-nav">
                                            <ui:repeat value="#{propertyImageBean.show_propertyImages(data.propertyIDPK)}" var="img">
                                                <div><img src="/propertyRental-war/uploads/#{img.propertyImage}" class="img-fluid" alt="photo" style="padding: 5px;width: 260px;height: 176px;"/></div>
                                            </ui:repeat>
                                        </div>
                                    </div>
                                    <!-- Properties slider section end -->

                                    <!-- Tabbing box start -->
                                    <div class="tabbing tabbing-box mb-40">
                                        <ul class="nav nav-tabs nav nav-pills nav-justified" id="myTab" role="tablist">
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true">Description</button>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab" aria-controls="contact" aria-selected="false">Details</button>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link" id="contact-tab-5" data-bs-toggle="tab" data-bs-target="#contact-5" type="button" role="tab" aria-controls="contact-5" aria-selected="false">Location</button>
                                            </li>
                                        </ul>
                                        <div class="tab-content" id="myTabContent">
                                            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                                                <div class="accordion accordion-flush" id="accordionFlushExample7">
                                                    <div class="accordion-item">
                                                        <div class="properties-description mb-50">
                                                            <h3 class="heading-2">
                                                                Description
                                                            </h3>
                                                            <p>#{data.propertyDescription}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                                                <div class="accordion accordion-flush" id="accordionFlushExample3">
                                                    <div class="accordion-item">
                                                        <div class="property-details mb-40">
                                                            <h3 class="heading-2">Property Details</h3>
                                                            <div class="row">
                                                                <div class="col-md-4 col-sm-6">
                                                                    <ul>
                                                                        <li>
                                                                            <strong>Property Id:</strong>#{data.propertyIDPK}
                                                                        </li>
                                                                        <li>
                                                                            <strong>Rent:</strong>#{data.propertyRent}/ Month
                                                                        </li>
                                                                        <li>
                                                                            <strong>Advance Rent:</strong>#{data.propertyAdvanceRent}/ Month
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                                <div class="col-md-4 col-sm-6">
                                                                    <ul>
                                                                        <li>
                                                                            <strong>Property Type:</strong>#{data.propertyTypeIDFK.propertyTypeName}
                                                                        </li>
                                                                        <li>
                                                                            <strong>Property Sub-Type Name:</strong>#{data.propertyTypeIDFK.propertySubTypeName}
                                                                        </li>
                                                                        <li>
                                                                            <strong>Availability:</strong>#{data.isAvailable}
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                                <div class="col-md-4 col-sm-6">
                                                                    <ul>
                                                                        <li>
                                                                            <strong>Area:</strong>#{data.areaIDFK.areaName}
                                                                        </li>
                                                                        <li>
                                                                            <strong>City:</strong>#{data.areaIDFK.cityIDFK.cityName}
                                                                        </li>
                                                                        <li>
                                                                            <strong>State:</strong>#{data.areaIDFK.cityIDFK.stateIDFK.stateName}
                                                                        </li>
                                                                    </ul>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="tab-pane fade" id="contact-5" role="tabpanel" aria-labelledby="contact-tab-5">
                                                <div class="accordion accordion-flush" id="accordionFlushExample5">
                                                    <div class="accordion-item">
                                                        <div class="location mb-50">
                                                            <div class="map">
                                                                <h3 class="heading-2">Property Location</h3>
                                                                <p> Property's Short Address: #{data.propertyShortAddress}, #{data.areaIDFK.areaName}</p>
                                                                <p> Property's Full Address: #{data.propertyFullAddress}, #{data.areaIDFK.areaName}, #{data.areaIDFK.cityIDFK.cityName}, #{data.areaIDFK.cityIDFK.stateIDFK.stateName}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <!-- Tabbing box end -->

                                    <!-- Properties amenities start -->
                                    <div class="properties-amenities mb-40">
                                        <h3 class="heading-2">
                                            Features
                                        </h3>
                                        <div class="row">
                                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                                <ul class="amenities">
                                                    <ui:repeat value="#{propertyBean.getFeaturesList(data.features)}" var="feature">
                                                        <li>
                                                            <i class="lnr lnr-pointer-right"></i>#{feature}
                                                        </li>
                                                    </ui:repeat>
                                                </ul>
                                            </div>
                                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12">
                                                
                                            </div>

                                        </div>
                                    </div>
                                    <!-- Properties amenities end -->

                                    <!-- Rating area start -->
                                    <div class="rating-area clearfix">
                                        <h3 class="heading-2">
                                            Rating &amp; Reviews
                                        </h3>

                                        <div class="average-rating">
                                            <h1>#{propertyBean.getByRating(data.propertyIDPK)}</h1>
                                            <h4>Out of 5.0</h4>
                                            <div class="ratings">
                                                <p:rating value="#{propertyBean.getByRating(data.propertyIDPK)}"/>
                                            </div>
                                        </div>

                                        
                                    </div>
                                    <!-- Rating area end -->
                                    <h3 class="heading-2">#{reviewRatingBean.show_reviewRatingListByProperty(data.propertyIDPK).size()} Reviews</h3>
                                    <ui:repeat value="#{reviewRatingBean.show_reviewRatingListByProperty(data.propertyIDPK)}" var="rdata">

                                        <!-- Comments start -->
                                        <ul class="comments">
                                            <li>
                                                <div class="comment">
                                                    <div class="comment-author">
                                                        <a href="#">
                                                            <img src="/propertyRental-war/uploads/#{rdata.userIDFK.userImage}" style="height: 90px; width: 80px;" alt="comments-user"/>
                                                        </a>
                                                    </div>
                                                    <div class="comment-content">
                                                        <div class="comment-meta">
                                                            <h3>
                                                                #{rdata.userIDFK.userFname} #{rdata.userIDFK.userLname}
                                                                <div style="margin-left: 750px; margin-top: -25px;"><p:rating value="#{rdata.rating}" readonly="true"/></div>
                                                            </h3>
                                                            
                                                        </div>
                                                        <p>#{rdata.review}</p>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                        <!-- Comments end -->
                                    </ui:repeat>

                                    <!-- Contact 1 start -->
                                    <div class="contact-1 mb-50">
                                        <h3 class="heading">Write A Review</h3>
                                        <h:form >
                                            <div class="row">
                                                
                                                <div class="col-lg-6 col-md-12 col-sm-12">
                                                    <div class="form-group subject">
                                                        <p:rating value="#{propertyBean.rating}"/>
                                                    </div>
                                                </div>
                                                
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <div class="form-group message">
                                                        <h:inputTextarea class="form-control" value="#{propertyBean.review}" id="desc" pt:placeholder="Enter Message Here..."/>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    
                                                    <h:commandButton type="submit"  value="Send Message" class="btn-4 btn-round-3" action="#{propertyBean.insertReviewRating_click(data)}">
                                                    </h:commandButton>
                                                </div>
                                            </div>
                                        </h:form>
                                    </div>
                                    <!-- Contact 1 end -->
                                </div>
                            </div>
                        </ui:repeat>

                    </div>

                </div>

            </div>
            <!-- Properties details page end -->
            <ui:include src="includes/footer.xhtml"></ui:include>
    </h:body>
</html>

